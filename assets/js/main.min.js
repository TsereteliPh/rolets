function get_siblings(t){var r=[];if(t.parentNode){let e=t.parentNode.firstChild;for(;e;)1===e.nodeType&&e!==t&&r.push(e),e=e.nextSibling}return r}function slideDown(e){e.style.maxHeight=e.scrollHeight+"px"}function slideToggle(e){0===e.offsetHeight?e.style.maxHeight=e.scrollHeight+"px":e.style.maxHeight=0}function accordion(){document.querySelectorAll(".js-accordion").forEach(e=>{let t=e.querySelectorAll("button"),r=()=>{for(var e of t)e.classList.remove("active"),e.nextElementSibling.style.maxHeight=0};t.forEach(e=>{e.addEventListener("click",function(){this.classList.contains("active")?r():(r(),this.classList.add("active"),slideToggle(this.nextElementSibling))})})})}function setHeaderScrollClass(){let e=document.querySelector(".header");window.addEventListener("scroll",function(){window.scrollY>=e.offsetHeight?e.classList.add("scroll"):e.classList.remove("scroll")})}function setTelMask(){[].forEach.call(document.querySelectorAll('[type="tel"]'),function(e){let n;function t(e){e.keyCode&&(n=e.keyCode),this.selectionStart<3&&e.preventDefault();let t="+7 (___) ___-__-__",r=0,l=t.replace(/\D/g,""),i=this.value.replace(/\D/g,""),a=t.replace(/[_\d]/g,function(e){return r<i.length?i.charAt(r++)||l.charAt(r):e});-1!=(r=a.indexOf("_"))&&(r<5&&(r=3),a=a.slice(0,r));var s=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(s=new RegExp("^"+s+"$")).test(this.value)||this.value.length<5||47<n&&n<58)&&(this.value=a),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)})}function changeInputNumber(e=0){var t=document.querySelectorAll(".number");t&&t.forEach(e=>{e.addEventListener("click",function(e){var t,r,l,i,a;e.target.classList.contains("number__btn")&&(t=this.querySelector(".number__input"),r=parseInt(t.value||0),l=parseInt(t.getAttribute("min")),i=parseInt(t.getAttribute("max")),a=parseInt(t.getAttribute("step")),e.target.classList.contains("number__btn--increment")?t.value=i&&i<=r?i:r+a:(l||0==l)&&r-a<=l?t.value=l:1<r&&(t.value=r-a),e=new Event("change",{bubbles:!0,cancelable:!0}),t.dispatchEvent(e))})})}function sendForm(){document.querySelectorAll("form[name]").forEach(function(e){e.addEventListener("submit",function(e){e.preventDefault();let t=this,r=(t.classList.add("loader"),new FormData(t));var e=t.name,l=t.querySelector("input[type=file]");r.append("action","send_mail"),e&&(r.append("form_name",e),l&&Array.from(l.files).forEach((e,t)=>{r.append(t.toString(),e)}),"Калькулятор"===t.name&&(r=setCalculatorFormData(r)),fetch(adem_ajax.url,{method:"POST",body:r}).then(e=>{t.classList.remove("loader"),Fancybox.close(!0),t.reset(),setTimeout(function(){Fancybox.show([{src:e.ok?"#success":"#failure",type:"inline"}])},100)}).catch(e=>console.error("Error:",e)))})})}function setCalculatorFormData(e){let t="";var r,l,i,a=new FormData;for([r,l]of e.entries())r.startsWith("client_calc")?(i=document.querySelector(`[data-calc-label="${r}"]`),t+=i.textContent.trim()+": "+l.trim()+"<br>"):a.set(r,l);return a.set("client_calc_params",t),a}function setFileName(){var e=document.querySelectorAll("input[type=file]");e&&e.forEach(function(e){e.addEventListener("change",function(e){e.target.nextElementSibling.textContent=e.target.files[0].name})})}function tabs(){var e=document.querySelectorAll(".js-tabs");e&&e.forEach(function(e){var r;(r=e).addEventListener("click",function(e){var t=e.target.closest("li");t.classList.contains("active")&&t.parentNode.classList.toggle("open"),t.classList.contains("active")||e.target===r||(e=t,t=document.querySelector("#"+e.getAttribute("data-tab")),e.classList.add("active"),get_siblings(e).forEach(function(e){e.classList.remove("active")}),t.classList.add("active"),get_siblings(t).forEach(function(e){e.classList.remove("active")}),e.parentNode.classList.remove("open"))})})}function showMorePosts(){var e=document.querySelectorAll(".js-show-more");e&&e.forEach(e=>{e.addEventListener("click",function(e){e.stopImmediatePropagation();let t=this.previousElementSibling,r=(this.classList.add("loader"),this.dataset.slug);fetch(adem_ajax.url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({action:"load_more",query:window[r+"_posts"],page:window[r+"_current_page"]})}).then(e=>e.text()).then(e=>{this.classList.remove("loader"),t.insertAdjacentHTML("beforeend",e),window[r+"_current_page"]++,window[r+"_current_page"]===window[r+"_max_pages"]&&this.classList.add("hidden")}).catch(e=>console.error("Error:",e))})})}function showCatalogFilters(){let i=document.querySelector(".catalog__filters-form");i&&i.addEventListener("submit",function(e){e.preventDefault();var t,e=new FormData(i);e.append("action","catalog_filters");let r=document.querySelector(".js-catalog-container");for(t of r.children)t.classList.add("loader");let l=document.querySelector(".js-show-more");l.disabled=!0;fetch(adem_ajax.url,{method:"POST",body:e}).then(e=>e.json()).then(e=>{e.status?(window.catalog_posts=JSON.stringify(e.query),window.catalog_current_page=e.paged,window.catalog_max_pages=e.max_pages,fetch(adem_ajax.url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({action:"load_more",query:window.catalog_posts,page:window.catalog_current_page})}).then(e=>e.text()).then(e=>{r.innerHTML=e,window.catalog_current_page++,window.catalog_current_page===window.catalog_max_pages?l.classList.add("hidden"):(l.classList.remove("hidden"),l.disabled=!1)}).catch(e=>{console.error("Error:",e),Fancybox.show([{src:"#failure",type:"inline"}])})):(r.innerHTML=e.message,l.classList.add("hidden"))}).catch(e=>{console.error("Error:",e),Fancybox.show([{src:"#failure",type:"inline"}])})})}document.addEventListener("DOMContentLoaded",function(){accordion(),setHeaderScrollClass(),setFileName(),sendForm(),setTelMask(),changeInputNumber(),showMorePosts(),showCatalogFilters(),tabs()});try{Fancybox.bind("[data-fancybox]",{animated:!1})}catch(e){console.error("Error: "+e)}let advantagesSliders=document.querySelectorAll(".advantages__slider"),docsSlider=(advantagesSliders&&advantagesSliders.forEach(e=>{new Swiper(e,{slidesPerView:"auto",spaceBetween:20,centerInsufficientSlides:!0,pagination:{el:".advantages__pagination",bulletClass:"pagination__bullet",bulletActiveClass:"active",clickable:!0},navigation:{nextEl:".advantages__next",prevEl:".advantages__prev"},breakpoints:{1440:{slidesPerView:5},1280:{slidesPerView:4},992:{slidesPerView:3},769:{slidesPerView:2}}})}),document.querySelector(".docs__slider"));if(docsSlider){let e=new Swiper(docsSlider,{slidesPerView:"auto",spaceBetween:10,centerInsufficientSlides:!0,pagination:{el:".docs__pagination",bulletClass:"pagination__bullet",bulletActiveClass:"active",clickable:!0},navigation:{nextEl:".docs__next",prevEl:".docs__prev"},breakpoints:{1440:{slidesPerView:4,spaceBetween:20},1280:{slidesPerView:3,spaceBetween:20},992:{slidesPerView:2,spaceBetween:20},769:{slidesPerView:2,spaceBetween:20}}})}let partnersSlider=document.querySelector(".partners__slider");if(partnersSlider){let e=new Swiper(partnersSlider,{slidesPerView:2,spaceBetween:30,centerInsufficientSlides:!0,pagination:{el:".partners__pagination",bulletClass:"pagination__bullet",bulletActiveClass:"active",clickable:!0},navigation:{nextEl:".partners__next",prevEl:".partners__prev"},breakpoints:{1440:{slidesPerView:6,spaceBetween:150},1280:{slidesPerView:4,spaceBetween:60},769:{slidesPerView:3,spaceBetween:40}}})}let articlesSliders=document.querySelectorAll(".articles-slider__slider"),productsSliders=(articlesSliders&&window.innerWidth<1440&&articlesSliders.forEach(e=>{new Swiper(e,{slidesPerView:"auto",spaceBetween:20,pagination:{el:e.querySelector(".articles-slider__pagination"),bulletClass:"pagination__bullet",bulletActiveClass:"active",clickable:!0},breakpoints:{1280:{slidesPerView:3},769:{slidesPerView:2}}})}),document.querySelectorAll(".products-slider")),basicSliders=(productsSliders&&productsSliders.forEach(e=>{var t=e.querySelector(".products-slider__slider"),r=e.querySelector(".products-slider__prev"),l=e.querySelector(".products-slider__next"),e=e.querySelector(".products-slider__pagination");new Swiper(t,{slidesPerView:"auto",spaceBetween:20,centerInsufficientSlides:!0,pagination:{el:e,bulletClass:"pagination__bullet",bulletActiveClass:"active",clickable:!0},navigation:{nextEl:l,prevEl:r},breakpoints:{1440:{slidesPerView:4},1280:{slidesPerView:3},992:{slidesPerView:3},769:{slidesPerView:2}}})}),document.querySelectorAll(".basic-slider")),productionSliders=(basicSliders&&basicSliders.forEach(e=>{var t=e.querySelector(".basic-slider__slider"),r=e.querySelector(".basic-slider__prev"),l=e.querySelector(".basic-slider__next"),e=e.querySelector(".basic-slider__pagination");new Swiper(t,{slidesPerView:"auto",spaceBetween:20,centerInsufficientSlides:!0,pagination:{el:e,bulletClass:"pagination__bullet",bulletActiveClass:"active",clickable:!0},navigation:{nextEl:l,prevEl:r},breakpoints:{1280:{slidesPerView:4,autoHeight:!0},992:{slidesPerView:3,autoHeight:!0},769:{slidesPerView:2,autoHeight:!0}}})}),document.querySelectorAll(".production__gallery")),extraOptionsSliders=(productionSliders&&productionSliders.forEach(e=>{new Swiper(e,{slidesPerView:1,resistanceRatio:0,pagination:{el:e.querySelector(".gallery-controls__pagination"),type:"fraction"},navigation:{nextEl:e.querySelector(".gallery-controls__next"),prevEl:e.querySelector(".gallery-controls__prev")}})}),document.querySelectorAll(".extra-options__gallery")),newProductsSlider=(extraOptionsSliders&&extraOptionsSliders.forEach(e=>{new Swiper(e,{slidesPerView:1,resistanceRatio:0,pagination:{el:e.querySelector(".gallery-controls__pagination"),type:"fraction"},navigation:{nextEl:e.querySelector(".gallery-controls__next"),prevEl:e.querySelector(".gallery-controls__prev")},on:{afterInit:function(){this.slides.length<=this.params.slidesPerView&&(e.querySelector(".extra-options__gallery-controls").style.display="none")}}})}),document.querySelector(".new-products__slider"));if(newProductsSlider){let e=new Swiper(newProductsSlider,{slidesPerView:"auto",spaceBetween:10,centerInsufficientSlides:!0,navigation:{nextEl:".new-products__next",prevEl:".new-products__prev"},breakpoints:{992:{slidesPerView:3,spaceBetween:20},769:{slidesPerView:2,spaceBetween:20}}})}let galleryTabsSliders=document.querySelectorAll(".gallery-tabs__gallery"),productGallery=(galleryTabsSliders&&galleryTabsSliders.forEach(e=>{new Swiper(e,{slidesPerView:1,resistanceRatio:0,pagination:{el:e.querySelector(".gallery-controls__pagination"),type:"fraction"},navigation:{nextEl:e.querySelector(".gallery-controls__next"),prevEl:e.querySelector(".gallery-controls__prev")}})}),document.querySelector(".product__gallery"));if(productGallery){let e=document.querySelector(".product__gallery-thumb-swiper"),t=document.querySelector(".product__gallery-big"),r=new Swiper(e,{direction:"vertical",spaceBetween:10,slidesPerView:4,watchSlidesProgress:!0,navigation:{nextEl:".product__gallery-thumb-next",prevEl:".product__gallery-thumb-prev"}}),l=new Swiper(t,{slidesPerView:"auto",spaceBetween:30,navigation:{nextEl:".product__gallery-big-next",prevEl:".product__gallery-big-prev"},thumbs:{swiper:r}})}let brandsSlider=document.querySelector(".brands-slider__slider");if(brandsSlider){let e=new Swiper(brandsSlider,{slidesPerView:"auto",spaceBetween:20,centerInsufficientSlides:!0,pagination:{el:".brands-slider__pagination",bulletClass:"pagination__bullet",bulletActiveClass:"active",clickable:!0},navigation:{nextEl:".brands-slider__next",prevEl:".brands-slider__prev"},breakpoints:{1440:{slidesPerView:4,spaceBetween:35},992:{slidesPerView:3,spaceBetween:20},769:{slidesPerView:2,spaceBetween:20}}})}let profilesSlider=document.querySelector(".profiles-slider__slider");if(profilesSlider){let e=new Swiper(profilesSlider,{slidesPerView:"auto",freeMode:!0,scrollbar:{el:".profiles-slider__scrollbar",draggable:!0}})}let catalogCatsSliders=document.querySelectorAll(".catalog-cats__slider"),basicTabsSlidersBlock=(catalogCatsSliders&&catalogCatsSliders.forEach(e=>{new Swiper(e,{slidesPerView:2,spaceBetween:20,centerInsufficientSlides:!0,pagination:{el:e.querySelector(".catalog-cats__pagination"),bulletClass:"pagination__bullet",bulletActiveClass:"active",clickable:!0},navigation:{nextEl:e.parentNode.querySelector(".catalog-cats__next"),prevEl:e.parentNode.querySelector(".catalog-cats__prev")},breakpoints:{1440:{slidesPerView:5},992:{slidesPerView:4},769:{slidesPerView:3}}})}),document.querySelector(".basic-tabs-slider"));if(basicTabsSlidersBlock){let e=basicTabsSlidersBlock.querySelectorAll(".basic-tabs-slider__slider"),t=basicTabsSlidersBlock.querySelector(".controls__next"),r=basicTabsSlidersBlock.querySelector(".controls__prev");if(e.forEach(e=>{new Swiper(e,{slidesPerView:"auto",spaceBetween:20,pagination:{el:e.querySelector(".basic-tabs-slider__pagination"),bulletClass:"pagination__bullet",bulletActiveClass:"active",clickable:!0},navigation:{nextEl:t,prevEl:r},breakpoints:{1280:{slidesPerView:4},992:{slidesPerView:3},769:{slidesPerView:2}}})}),768<window.innerWidth){let t=new MutationObserver(e=>{e.forEach(e=>{e.target.classList.contains("active")&&(e.target.swiper.updateActiveIndex(),e.target.swiper.navigation.update())})});e.forEach(e=>{t.observe(e,{attributes:!0,attributeFilter:["class"]})})}}let projectCards=document.querySelectorAll(".project-card"),orderBtns=(projectCards&&projectCards.forEach(e=>{var t=e.querySelector(".project-card__small-gallery");let r=e.querySelectorAll(".project-card__small-gallery-item"),l=new Swiper(e.querySelector(".project-card__gallery-slider"),{slidesPerView:1,spaceBetween:30,watchSlidesProgress:!0,navigation:{nextEl:e.querySelector(".controls__next"),prevEl:e.querySelector(".controls__prev")},pagination:{el:e.querySelector(".project-card__gallery-pagination"),bulletClass:"pagination__bullet",bulletActiveClass:"active",clickable:!0},on:{slideChange:function(){r&&768<window.innerWidth&&(r.forEach(e=>{e.classList.remove("active")}),r[this.activeIndex].classList.add("active"))}}});t&&768<window.innerWidth&&t.addEventListener("click",function(e){e.target.classList.contains("project-card__small-gallery-item")&&l.slideTo(parseInt(e.target.dataset.slide))})}),document.addEventListener("DOMContentLoaded",function(e){let r=document.querySelector(".header");if(r){let e=r.querySelector(".header__burger"),t=r.querySelector(".header__drop");e.addEventListener("click",function(){this.classList.contains("active")?(r.classList.remove("active"),e.classList.remove("active"),t.style.maxHeight=0):(r.classList.add("active"),e.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px")})}}),document.querySelectorAll(".js-order"));if(orderBtns){let e=document.querySelector(".modal#order"),t=e.querySelector(".modal__text>span"),r=document.querySelector(".product__color-select"),l=e.querySelector("input[name=client_product_name]"),i=e.querySelector("input[name=client_product_id]"),a=e.querySelector("input[name=client_product_color]");orderBtns.forEach(e=>{e.addEventListener("click",function(){t.textContent=this.dataset.productName,l.value=this.dataset.productName,i.value=this.dataset.productId,r&&a&&(a.value=r.value)})})}let serviceBtns=document.querySelectorAll(".js-service-btn");if(serviceBtns){let e=document.querySelector(".modal#service"),t=e.querySelector(".modal__title>span"),r=e.querySelector("input[name=client_service]");serviceBtns.forEach(e=>{e.addEventListener("click",function(){t.textContent=this.dataset.serviceTitle,r.value=this.dataset.serviceTitle})})}